@using Mello.ImageGallery.Helpers
@using System.Web.Mvc.Html
@{ Style.Require("ImageGallery"); }

@model Mello.ImageGallery.ViewModels.ImageGalleryViewModel

@using (Script.Head()) {
    
<script type="text/javascript">    
    /*$(document).ready(function () {
        @Html.ImageGalleryScript(".image-gallery a", Model.ImageGalleryPlugin) 
    });*/
</script>
    
}



<div class="row" id="gallery" data-toggle="modal-gallery" data-target="#modal-gallery">

    <ul class="thumbnails span9">   
        @{
            var count = 0;
        }
        @foreach (var image in Model.Images)
        {
            var frame = count % 5 + 1;
            var span = "span" + ((count % 3 == 2) ? "2" : "3");
            <li class="@span">
                <a class="thumbnail2" href="@image.PublicUrl" title="@image.Title" @Html.ImageGalleryAdditionalAttributes(Model.ImageGalleryPlugin, Model.ImageGalleryName)>
                    <div class="imageFrame imageFrame-@frame">
                        @Html.Image(image)
                    </div>
                </a> 
            </li>
            count++;
        }
    </ul>     
</div>

<!-- modal-gallery is the modal dialog used for the image gallery -->
<div id="modal-gallery" class="modal modal-gallery hide fade">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3 class="modal-title"></h3>
    </div>
    <div class="modal-body"><div class="modal-image"></div></div>
    <div class="modal-footer">
        <a class="btn btn-primary modal-next">Next <i class="icon-arrow-right icon-white"></i></a>
        <a class="btn btn-info modal-prev"><i class="icon-arrow-left icon-white"></i> Previous</a>
        <a class="btn btn-success modal-play modal-slideshow" data-slideshow="5000"><i class="icon-play icon-white"></i> Slideshow</a>
        <a class="btn modal-download" target="_blank"><i class="icon-download"></i> Download</a>
    </div>
</div>
